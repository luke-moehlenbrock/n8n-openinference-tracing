# =========================
# OpenTelemetry / Arize
# (Tracing.js instrumentation)
# =========================
OTEL_SDK_DISABLED=false             # Set true to disable all OTEL initialization
OTEL_SERVICE_NAME=n8n               # Service name resource attribute
OTEL_RESOURCE_ATTRIBUTES=deployment.environment=dev,service.version=0.1.0

# Disable metrics/logs (only traces)
OTEL_METRICS_EXPORTER=none
OTEL_LOGS_EXPORTER=none
N8N_OTEL_EXPORT_LOGS=false
OTEL_LOG_LEVEL=INFO                 # OTEL internal diagnostic logging (DEBUG|INFO|WARN|ERROR)

# =========================
# Arize Configuration
# =========================
# Arize Space ID and API Key (required for sending traces to Arize)
ARIZE_SPACE_ID=YOUR_ARIZE_SPACE_ID
ARIZE_API_KEY=YOUR_ARIZE_API_KEY

# Arize project name (determines the project in the Arize platform)
ARIZE_PROJECT_NAME=n8n

# Protocol: 'grpc' (default, recommended) or 'http'
ARIZE_PROTOCOL=grpc

# Arize OTLP endpoint (default: https://otlp.arize.com)
# For gRPC: https://otlp.arize.com
# For HTTP: https://otlp.arize.com (the /v1/traces path is appended automatically)
ARIZE_ENDPOINT=https://otlp.arize.com

# =========================
# Advanced: Manual OTEL Override
# =========================
# If ARIZE_SPACE_ID and ARIZE_API_KEY are not set, the exporter falls back
# to standard OTEL_EXPORTER_OTLP_* environment variables:
# OTEL_EXPORTER_OTLP_ENDPOINT=https://YOUR_OTLP_ENDPOINT
# OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=https://YOUR_OTLP_ENDPOINT/v1/traces
# OTEL_EXPORTER_OTLP_HEADERS=Authorization=Basic YOUR_TOKEN
# OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf
# OTEL_EXPORTER_OTLP_TIMEOUT=30000

# =========================
# Tracing Behavior Toggles
# (Consumed by tracing.js)
# =========================
TRACING_LOG_LEVEL=info                        # logging inside tracing bootstrap
TRACING_ONLY_WORKFLOW_SPANS=true              # true = disable auto-instrumentations (HTTP/DB) except manual workflow/node spans
TRACING_DYNAMIC_WORKFLOW_TRACE_NAME=true      # Include workflow id/name/execution id in span name
TRACING_SPAN_KIND_IN_NODE_SPAN_NAME=true      # Include inferred OpenInference span kind in node span name
TRACING_MAP_OPENINFERENCE_SPAN_KINDS=true     # (default true) infer openinference.span.kind from n8n node type
TRACING_USE_NODE_NAME_SPAN=true               # Use actual node name as span name
TRACING_INSTRUMENT_LANGCHAIN=true             # (default true) trace LangChain sub-node operations (LLM calls, tools, retrievers)
TRACING_CAPTURE_INPUT_OUTPUT=true             # Capture selected node inputs/outputs (may include sensitive data)
TRACING_MAX_IO_CHARS=12000                    # Truncation limit for captured I/O
TRACING_WORKFLOW_SPAN_NAME_PATTERN=           # Optional pattern: e.g. {workflowId}-{workflowName}-{executionId}


# =========================
# Security / Secrets Reminder
# =========================
# DO NOT commit real values for:
# - N8N_ENCRYPTION_KEY
# - DB_POSTGRESDB_PASSWORD
# - ARIZE_API_KEY
# - ARIZE_SPACE_ID
# Rotate tokens regularly.
